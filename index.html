<!DOCTYPE html>
<html>

<head>
    <script type="application/javascript" src="delaunay.js"></script>

    <script>
        window.onload = function() {
            var canvas = document.createElement('canvas');
            canvas.width = 2000;
            canvas.height = 1000;
            document.body.appendChild(canvas);
            var ctx = canvas.getContext("2d");

            var pts = [];
//            for (var i = 1000; i >= 0; i--)
//                pts.push([5 + Math.random() * 1490, 5 + Math.random() * 990]);

            pts.push([1, 1]);
            pts.push([1, 64]);
            pts.push([2, 1]);
            pts.push([2, 64]);
            pts.push([3, 1]);
            pts.push([3, 64]);
            pts.push([4, 1]);
            pts.push([4, 64]);
            pts.push([5, 1]);
            pts.push([5, 64]);
            pts.push([6, 1]);
            pts.push([6, 64]);
            pts.push([7, 1]);
            pts.push([7, 64]);
            pts.push([8, 1]);
            pts.push([8, 64]);
            pts.push([9, 1]);
            pts.push([9, 64]);
            pts.push([10, 1]);
            pts.push([10, 64]);
            pts.push([11, 1]);
            pts.push([11, 64]);
            pts.push([12, 1]);
            pts.push([12, 64]);
            pts.push([13, 1]);
            pts.push([13, 64]);
            pts.push([14, 1]);
            pts.push([14, 64]);
            pts.push([15, 1]);
            pts.push([15, 64]);
            pts.push([16, 1]);
            pts.push([16, 64]);
            pts.push([17, 1]);
            pts.push([17, 64]);
            pts.push([18, 1]);
            pts.push([18, 64]);
            pts.push([19, 1]);
            pts.push([19, 64]);
            pts.push([20, 1]);
            pts.push([20, 64]);
            pts.push([21, 1]);
            pts.push([21, 64]);
            pts.push([22, 1]);
            pts.push([22, 64]);
            pts.push([23, 1]);
            pts.push([23, 64]);
            pts.push([24, 1]);
            pts.push([24, 64]);
            pts.push([25, 1]);
            pts.push([25, 64]);
            pts.push([26, 1]);
            pts.push([26, 64]);
            pts.push([27, 1]);
            pts.push([27, 64]);
            pts.push([28, 1]);
            pts.push([28, 64]);
            pts.push([29, 1]);
            pts.push([29, 64]);
            pts.push([30, 1]);
            pts.push([30, 64]);
            pts.push([31, 1]);
            pts.push([31, 64]);
            pts.push([32, 1]);
            pts.push([32, 64]);
            pts.push([33, 1]);
            pts.push([33, 64]);
            pts.push([34, 1]);
            pts.push([34, 64]);
            pts.push([35, 1]);
            pts.push([35, 64]);
            pts.push([36, 1]);
            pts.push([36, 64]);
            pts.push([37, 1]);
            pts.push([37, 64]);
            pts.push([38, 1]);
            pts.push([38, 64]);
            pts.push([39, 1]);
            pts.push([39, 64]);
            pts.push([40, 1]);
            pts.push([40, 64]);
            pts.push([41, 1]);
            pts.push([41, 64]);
            pts.push([42, 1]);
            pts.push([42, 64]);
            pts.push([43, 1]);
            pts.push([43, 64]);
            pts.push([44, 1]);
            pts.push([44, 64]);
            pts.push([45, 1]);
            pts.push([45, 64]);
            pts.push([46, 1]);
            pts.push([46, 64]);
            pts.push([47, 1]);
            pts.push([47, 64]);
            pts.push([48, 1]);
            pts.push([48, 64]);
            pts.push([49, 1]);
            pts.push([49, 64]);
            pts.push([50, 1]);
            pts.push([50, 64]);
            pts.push([51, 1]);
            pts.push([51, 64]);
            pts.push([52, 1]);
            pts.push([52, 64]);
            pts.push([53, 1]);
            pts.push([53, 64]);
            pts.push([54, 1]);
            pts.push([54, 64]);
            pts.push([55, 1]);
            pts.push([55, 64]);
            pts.push([56, 1]);
            pts.push([56, 64]);
            pts.push([57, 1]);
            pts.push([57, 64]);
            pts.push([58, 1]);
            pts.push([58, 64]);
            pts.push([59, 1]);
            pts.push([59, 64]);
            pts.push([60, 1]);
            pts.push([60, 64]);
            pts.push([61, 1]);
            pts.push([61, 64]);
            pts.push([62, 1]);
            pts.push([62, 64]);
            pts.push([63, 1]);
            pts.push([63, 64]);
            pts.push([64, 1]);
            pts.push([64, 64]);

            var start = new Date().getTime();
            var d = new Delaunay(pts);
            var faces = d.triangulate();
            var end = new Date().getTime();

            ctx.beginPath();
            for (i = 0; i < faces.length; i += 3) {
                ctx.moveTo(faces[i][0] * 10, 1000 - faces[i][1] * 10);
                ctx.lineTo(faces[i + 1][0] * 10, 1000 - faces[i + 1][1] * 10);
                ctx.lineTo(faces[i + 2][0] * 10, 1000 - faces[i + 2][1] * 10);
                ctx.lineTo(faces[i][0] * 10, 1000 - faces[i][1] * 10);
            }
            ctx.stroke();

        }

    </script>
</head>

<body>
</body>
</html>